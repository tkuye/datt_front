{"version":3,"sources":["components/Events/Interest.tsx","components/Events/Event.tsx","getCookie.ts"],"names":["Interest","id","useState","clicked","setClicked","intNumber","setIntNumber","sentence","setSentence","useEffect","axios","get","params","then","response","data","int_total","getCookie","className","onClick","e","put","d","Date","setTime","getTime","document","cookie","toUTCString","sendRequest","Event","event","setEvent","getData","dataRef","useRef","body","scrollTop","current","innerHTML","status","urlData","src","image","alt","event_name","ref","dangerouslySetInnerHTML","__html","style","display","iframe_form","title","event_id","Emails","cname","name","ca","decodeURIComponent","split","i","length","c","charAt","substring","indexOf"],"mappings":"qLA8DeA,EAnD2B,SAAC,GAAU,IAATC,EAAQ,EAARA,GAAQ,EAClBC,oBAAS,GADS,mBACzCC,EADyC,KAChCC,EADgC,OAEdF,oBAAkB,GAFJ,mBAEzCG,EAFyC,KAE9BC,EAF8B,OAKjBJ,mBAAS,IALQ,mBAK1CK,EAL0C,KAKhCC,EALgC,KA6C5C,OAxBJC,qBAAU,WACNC,IAAMC,IAAI,cAAe,CAACC,OAAO,CAC7BX,QACAY,MAAK,SAAAC,GACLR,EAAaQ,EAASC,KAAKC,cAQZ,KADAC,YAAU,SAAD,OAAUhB,KAEnCG,GAAW,GAOVI,EAAYH,EAAa,GAAmB,IAAdA,EAAlB,8BAA0DA,EAA1D,qDAAiHA,EAAjH,0BAEd,CAACA,EAAWJ,IAEN,8BAEJ,sBAAKiB,UAAU,WAAf,UAA0B,4BAAIX,IAAcJ,EAAQ,8BAAK,oEAA+C,gCAAK,+FAAqE,wBAAQe,UAAU,aAAaC,QAAS,SAACC,GAAD,OAxC9M,SAACA,GAEbV,IAAMW,IAAI,gBAAiB,CAACpB,OAAKY,MAAK,SAAAC,GAClCR,EAAaQ,EAASC,KAAKC,cAE/B,IAAIM,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEG,UAAa,OACzBC,SAASC,OAAT,gBAA2B1B,EAA3B,YAAiCA,EAAjC,oBAA+CqB,EAAEM,eAClDxB,GAAW,GAgCuNyB,IAA/C,uCCf/KC,UAjCqB,SAAC,GAAY,IAAXf,EAAU,EAAVA,KAAU,EAClBb,mBAAwB,MADN,mBACrC6B,EADqC,KAC9BC,EAD8B,OAEjB9B,mBAAiB,IAFA,mBAErC+B,EAFqC,aAGN/B,mBAAiB,IAHX,mBAItCgC,GAJsC,UAI5BC,iBAAuB,OAkBnC,OAjBA1B,qBAAU,WACNiB,SAASU,KAAKC,UAAY,EACS,KAA/BH,EAAQI,QAASC,WAGD,WAAhBxB,EAAKyB,SAELR,EAASjB,EAAKgB,OAIVG,EAAQI,QAASC,UAAYxB,EAAK0B,WAI3C,CAACV,EAAOhB,IAEH,sBAAKG,UAAU,QAAf,UACJ,qBAAKwB,IAAG,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAOY,MAAOC,IAAI,UAC5B,oBAAI3C,GAAG,aAAP,gBAAqB8B,QAArB,IAAqBA,OAArB,EAAqBA,EAAOc,aACxB,qBAAK5C,GAAG,aAAa6C,IAAKZ,EAASa,wBAAyB,CAACC,OAAOf,KACpE,oBAAIgB,MAAO,CAACC,QAA6B,MAAhB,OAALnB,QAAK,IAALA,OAAA,EAAAA,EAAOoB,aAAiB,OAAO,SAAnD,yEACA,wBAAQC,MAAM,gBAAgBH,MAAO,CAACC,QAA6B,MAAhB,OAALnB,QAAK,IAALA,OAAA,EAAAA,EAAOoB,aAAiB,OAAO,SAAST,IAAG,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAOoB,cAClG,cAAC,EAAD,CAAUlD,GAAE,OAAE8B,QAAF,IAAEA,OAAF,EAAEA,EAAOsB,WAErB,cAACC,EAAA,QAAD,S,gCCxCD,SAASrC,EAAUsC,GAI9B,IAHA,IAAIC,EAAOD,EAAQ,IAEfE,EADgBC,mBAAmBhC,SAASC,QACzBgC,MAAM,KACrBC,EAAI,EAAGA,EAAGH,EAAGI,OAAQD,IAAK,CAEhC,IADA,IAAIE,EAAIL,EAAGG,GACY,MAAhBE,EAAEC,OAAO,IACdD,EAAIA,EAAEE,UAAU,GAElB,GAAwB,IAApBF,EAAEG,QAAQT,GACZ,OAAOM,EAAEE,UAAUR,EAAKK,OAAQC,EAAED,QAGtC,MAAO,GAbX","file":"static/js/11.682d763f.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nimport axios from '../../axInstance'\nimport getCookie from '../../getCookie'\n\n\n\ninterface InterestProps {\n    id: number | undefined\n}\n\nconst Interest: React.FC<InterestProps> = ({id}) => {\n    const [clicked, setClicked] = useState(false)\n    const [intNumber, setIntNumber] = useState<number>(-1)\n\n    \n   const [sentence, setSentence] = useState(\"\")\n\n    const sendRequest = (e:any) => {\n        \n            axios.put('/new-interest', {id}).then(response => {\n                setIntNumber(response.data.int_total)\n            })\n            var d = new Date();\n            d.setTime(d.getTime() + (5000*24*60*60*1000));\n            document.cookie = `event-${id}=${id};expires=${d.toUTCString()}`\n           setClicked(true)\n    }\n    \n    \n    \n\n    useEffect(() => {\n        axios.get('/int-number', {params:{\n            id\n        }}).then(response => {\n            setIntNumber(response.data.int_total)\n            \n        })\n        \n        \n       \n        \n        const eventExist = getCookie(`event-${id}`)\n        if (eventExist !== \"\") {\n           setClicked(true)\n                \n        }\n\n           \n           \n\n            setSentence(intNumber! > 1 || intNumber === 0? `There are currently ${intNumber} people interested.`: ` There is currently ${intNumber} person interested.`)\n        \n        },[intNumber, id])\n    \n        return (<div >\n            \n            <div className=\"interest\"><p>{sentence}</p>{clicked?<div><p>Thanks for showing your interest!</p></div>:<div><p>Let us know you're interested in this event by clicking below.</p><button className=\"click-here\" onClick={(e) => sendRequest(e)}>I am Interested!</button></div>}\n        </div>\n        </div>);\n}\nexport default Interest","import React, {useEffect, useState, useRef} from 'react'\nimport {EventInterface, eventI} from '../../App'\nimport \"../../css/event.scss\"\nimport Emails from '../Emails'\nimport Interest from './Interest'\ninterface EventProps {\n \n    data: EventInterface\n}\n\nconst Event: React.FC<EventProps> = ({data}) => {\n    const [event, setEvent] = useState<eventI | null>(null)\n    const [getData, setData] = useState<string>(\"\")\n    const [renderCount, setRenderCount] = useState<number>(0)\n    const dataRef = useRef<HTMLDivElement>(null)\n        useEffect(() => {\n            document.body.scrollTop = 0\n            if (dataRef.current!.innerHTML !== \"\"){\n                return\n            }\n            if (data.status === \"LOADED\") {\n                \n                setEvent(data.event)\n                  \n                        //setData(data.urlData!)\n                    \n                    dataRef.current!.innerHTML = data.urlData!;\n                    \n            }\n    \n        }, [event, data])\n\n        return (<div className=\"event\">\n            <img src={event?.image} alt=\"event\" />\n            <h2 id=\"event-name\">{event?.event_name}</h2>\n                <div id=\"event-data\" ref={dataRef} dangerouslySetInnerHTML={{__html:getData}}></div>\n                <h3 style={{display:event?.iframe_form===\"\"?\"none\":\"block\"}}>Are you interested in this event? Complete our survey form!</h3>\n                <iframe title=\"donation page\" style={{display:event?.iframe_form===\"\"?\"none\":\"block\"}}src={event?.iframe_form}></iframe>\n                <Interest id={event?.event_id}/>\n                \n                <Emails />\n            </div>);\n}\nexport default Event","export default function getCookie(cname:string) {\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n    for(var i = 0; i <ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n  }"],"sourceRoot":""}