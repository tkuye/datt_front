(this.webpackJsonpdatt=this.webpackJsonpdatt||[]).push([[8],{159:function(t,e,n){},313:function(t,e,n){"use strict";n.r(e);var r=n(8),i=n(1),c=n(9),o=n(0),u=function(t){var e=t.isUserAuthenticated,n=Object(i.useState)(""),u=Object(r.a)(n,2),s=u[0],a=u[1],l=Object(i.useState)(""),f=Object(r.a)(l,2),d=f[0],b=f[1],j=Object(i.useState)(Object(o.jsx)("div",{})),h=Object(r.a)(j,2),p=h[0],O=h[1];return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("form",{id:"authenticate",onSubmit:function(t){return function(t){t.preventDefault(),Array.from(document.getElementsByTagName("input")).forEach((function(t){"submit"!==t.type&&(t.value="")})),c.a.post("/",{username:d,password:s}).then((function(t){if(t.data.token){var n=new Date;n.setTime(n.getTime()+6048e5),document.cookie="userauth=".concat(t.data.token,";expires=").concat(n.toUTCString(),";path=/admin"),document.cookie="userid=".concat(t.data.user_id,";expires=").concat(n.toUTCString(),";path=/admin")}"No username found"!==t.data?(e(t.data.result),t.data.result||O(Object(o.jsx)("p",{children:"No username found or incorrect password."}))):O(Object(o.jsx)("p",{children:"No username found or incorrect password."}))}))}(t)},children:[Object(o.jsxs)("div",{className:"login",children:[Object(o.jsx)("label",{htmlFor:"login",children:Object(o.jsx)("h3",{children:"Login"})}),Object(o.jsx)("input",{type:"text",name:"login",id:"login",onChange:function(t){return function(t){b(t.target.value)}(t)},autoComplete:"username",onFocus:function(){return O(Object(o.jsx)("div",{}))}})]}),Object(o.jsxs)("div",{className:"login",children:[Object(o.jsx)("label",{htmlFor:"password",children:Object(o.jsx)("h3",{children:"Password"})}),Object(o.jsx)("input",{type:"password",name:"password",id:"password",autoComplete:"new-password",onChange:function(t){return function(t){a(t.target.value)}(t)},onFocus:function(){return O(Object(o.jsx)("div",{}))}})]}),Object(o.jsx)("input",{type:"submit",value:"Login"}),p]})})},s=n(75),a=n(79);n(159),e.default=function(){var t=Object(i.useState)(void 0),e=Object(r.a)(t,2),n=e[0],c=e[1],l=function(t){c(t)};Object(i.useEffect)((function(){!function(){var t=Object(a.a)("userauth");c(""!==t)}(),console.log(n)}));return Object(o.jsx)("div",{children:void 0===n?Object(o.jsx)("div",{}):!0===n?Object(o.jsx)(s.b,{}):!1===n?Object(o.jsx)(u,{isUserAuthenticated:l}):void 0})}},75:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}n.d(e,"a",(function(){return x}));var l=n(1),f=n.n(l),d=n(0),b=Object(l.lazy)((function(){return n.e(20).then(n.bind(null,311))})),j=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,303))})),h=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,304))})),p=Object(l.lazy)((function(){return Promise.all([n.e(1),n.e(16)]).then(n.bind(null,314))})),O=Object(l.lazy)((function(){return n.e(23).then(n.bind(null,305))})),g=Object(l.lazy)((function(){return n.e(17).then(n.bind(null,315))})),m=Object(l.lazy)((function(){return n.e(15).then(n.bind(null,306))})),y=Object(l.lazy)((function(){return n.e(22).then(n.bind(null,307))})),v=Object(l.lazy)((function(){return n.e(21).then(n.bind(null,308))})),x=f.a.createContext({running:console.log,newUser:console.log}),w=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,o,u=a(s);function s(){var t;r(this,s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=u.call.apply(u,[this].concat(n))).state={currentEdit:Object(d.jsx)("div",{}),running:!1,newestUser:""},t.getData=function(e,n){switch(t.setState({running:!0}),n){case"blogs":t.setState({currentEdit:Object(d.jsx)(j,{date:e.blog_date,id:e.blog_id,title:e.blog_title,html:e.html,type:n,img:e.image,iframe:""})});break;case"events":t.setState({currentEdit:Object(d.jsx)(j,{id:e.event_id,title:e.event_name,date:e.event_date,html:e.html,img:e.image,iframe:e.iframe_form,type:n,upClicked:e.upcoming})})}},t.getUserEdit=function(e){t.setState({currentEdit:e,running:!0})},t.setRunning=function(){t.setState({running:!1})},t.getNewUser=function(e){t.setState({currentEdit:e,running:!0})},t.newUser=function(t){var e=document.getElementById("show-user");e.innerHTML=t,setTimeout((function(){return e.innerHTML=""}),3e3)},t}return e=s,(n=[{key:"createPost",value:function(){this.setState({running:!0,currentEdit:Object(d.jsx)(h,{})})}},{key:"render",value:function(){var t=this;return Object(d.jsx)("div",{children:Object(d.jsxs)(l.Suspense,{fallback:function(){return Object(d.jsx)("p",{})},children:[Object(d.jsx)("h1",{id:"show-user",children:" "}),Object(d.jsx)(x.Provider,{value:{running:this.setRunning,newUser:this.newUser},children:this.state.running?this.state.currentEdit:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"user-admin",onClick:function(){return t.getUserEdit(Object(d.jsx)(m,{}))},children:Object(d.jsx)("h2",{children:"Change Our Mission"})}),Object(d.jsx)(g,{getNewUser:this.getUserEdit}),Object(d.jsx)(p,{getUserEdit:this.getUserEdit}),Object(d.jsx)(v,{}),Object(d.jsx)(b,{item:"events",getData:this.getData}),Object(d.jsx)(b,{item:"blogs",getData:this.getData}),Object(d.jsx)(y,{}),Object(d.jsx)("div",{id:"create-post",onClick:function(){return t.createPost()},children:Object(d.jsx)("h2",{children:"Create a New Post"})}),Object(d.jsx)(O,{})]})})]})})}}])&&i(e.prototype,n),o&&i(e,o),s}(f.a.Component);e.b=w},79:function(t,e,n){"use strict";function r(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""}n.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=8.e1cf8fdd.chunk.js.map